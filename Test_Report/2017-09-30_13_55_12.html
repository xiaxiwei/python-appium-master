<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>nidone测试报告</title>
</head>
<body>
    <h1 style="text-indent:2em;">nidone6测试报告</h1>
        <p style="text-indent:4em;">测速开始时间:
                <span style="display: inline-block;padding-left: 10px;text-indent: 0em;">2017-09-30 13:55:12.869000</span>
                </p>
        <p style="text-indent:4em;">测试结束时间:
                <span style="display: inline-block;padding-left: 10px;text-indent: 0em;">2017-09-30 13:56:18.087000</span>
                </p>
        <p style="text-indent:4em;">测试耗时:
                <span style="display: inline-block;padding-left: 10px;text-indent: 0em;"> 0 天 0 小时 1 分 5 秒</span>
                </p>
        <p style="text-indent:4em;">Total:
                <span style="display: inline-block;padding-left: 10px;text-indent: 0em;">2</span>
        Fail:        <span style="display: inline-block;padding-left: 10px;text-indent: 0em;">0</span>
        Error:
                <span style="display: inline-block;padding-left: 10px;text-indent: 0em;">2</span></p>
        <p style="text-indent:4em;">
            <canvas id="canvas_circle" width="500" height="300" style="border:2px solid #0026ff;" >
                浏览器不支持canvas
            </canvas>
        </p>        <style type="text/css">
            table {
                width: 94%;
                table-layout: fixed;
                background-color:yellow				
}
            td {
                white-space: nowrap;
                overflow: hidden;
                text-overflow: ellipsis;
                height: 5px;
            }
        </style>
        <table border="1px" align="center">
            <tr>
                <th style="width: 25px;">测试ID</th>
                <th style="width: 80px;">所属模块</th>
                <th style="width: 70px;">测试点</th>
                <th style="width: 250px;">测试标题</th>
                <th style="width: 30px;">重要程度</th>
                <th style="width: 150px;">预期结果</th>
                <th style="width: 35px;">执行结果</th>
                <th style="width: 50px;">错误日志</th>
                <th style="width: 30px;">错误截图</th>
            </tr>            <tr bgcolor="#7cfc00">
                <td >1</td>
                <td>登录模块</td>
                <td>登录</td>
                <td>正确登录</td>
                <td>高</td>
                <td onmouseover="moveIn(this)">进入首页</td>
                <td>error</td>>
                <td>             <a href="file://localhost/H:\project\python_appium\Test_Report\2017-09-30_13_55_12_error\正确登录.txt">错误日志</a>
                </td>>
                <td>
                    <a href="file://localhost/H:\project\python_appium\Test_Report\2017-09-30_13_55_12_error\test_login2017-09-30_13_55_12.png" target="_blank>">截图</a>
                </td>
            </tr>            <tr bgcolor="#7cfc00">
                <td >2</td>
                <td>登录模块</td>
                <td>登录 </td>
                <td>正常登录1</td>
                <td>高</td>
                <td onmouseover="moveIn(this)">进入首页</td>
                <td>error</td>>
                <td>             <a href="file://localhost/H:\project\python_appium\Test_Report\2017-09-30_13_55_12_error\正常登录1.txt">错误日志</a>
                </td>>
                <td>
                    <a href="file://localhost/H:\project\python_appium\Test_Report\2017-09-30_13_55_12_error\test_login12017-09-30_13_55_12.png" target="_blank>">截图</a>
                </td>
            </tr>        </table>
        <script>
            //绘制饼图
            function drawCircle(canvasId, data_arr, color_arr, text_arr)
            {
                var c = document.getElementById(canvasId);
                var ctx = c.getContext("2d");

                var radius = c.height / 2 - 20; //半径
                var ox = radius + 20, oy = radius + 20; //圆心

                var width = 30, height = 10; //图例宽和高
                var posX = ox * 2 + 20, posY = 30;   //
                var textX = posX + width + 5, textY = posY + 10;

                var startAngle = 0; //起始弧度
                var endAngle = 0;   //结束弧度
                for (var i = 0; i < data_arr.length; i++)
                {
                    //绘制饼图
                    endAngle = endAngle + data_arr[i] * Math.PI * 2; //结束弧度
                    ctx.fillStyle = color_arr[i];
                    ctx.beginPath();
                    ctx.moveTo(ox, oy); //移动到到圆心
                    ctx.arc(ox, oy, radius, startAngle, endAngle, false);
                    ctx.closePath();
                    ctx.fill();
                    startAngle = endAngle; //设置起始弧度

                    //绘制比例图及文字
                    ctx.fillStyle = color_arr[i];
                    ctx.fillRect(posX, posY + 20 * i, width, height);
                    ctx.moveTo(posX, posY + 20 * i);
                    ctx.font = 'bold 12px 微软雅黑';    //斜体 30像素 微软雅黑字体
                    ctx.fillStyle = color_arr[i]; //"#000000";
                    var percent = text_arr[i] + "：" + 100 * data_arr[i] + "%";
                    ctx.fillText(percent, textX, textY + 20 * i);
                }
            }


            function moveIn(obj)
            {
                obj.title=obj.innerHTML;
            }            function init() {
                //绘制饼图
                //比例数据和颜色
                var data_arr = [0.0, 0.0, 1.0];
                var color_arr = ["#00FF21", "#FFAA00", "#00AABB"];
                var text_arr = ["Fail", "Success", "Error"];

                drawCircle("canvas_circle", data_arr, color_arr, text_arr);
            }

            //页面加载时执行init()函数
            window.onload = init;
        </script>
</body
</html>